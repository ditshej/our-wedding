<link rel="import" href="/src/shared/shared-jquery.html">
<dom-module id="wedding-navigation">
  <!-- Defines the element's style and local DOM -->
  <template>
    <style>
      :host {
        display: block;
        position: fixed;
        z-index: 1000;
        width: 100%;
        --wedding-nav-anchor-padding: 8px;
      }

      /** navigation */
      /* top-style */
      ul {
        list-style-type: none;
        padding: 0;
      }

      a {
        padding: var(--wedding-nav-anchor-padding);
      }

      :host > ul > li {
        float: left;
        width: 20%;
        text-align: center;
      }

      :host > ul > li > ul {
        margin-top: 20px;
        display: none;
      }

      :host > ul > li > ul > li {
        padding: var(--wedding-nav-anchor-padding);
        margin: 2px;
      }

      /* scroll-style */
      :host > ul > li.scroll {
        float: none;
      }

      /* collapse-style */

      /** logo */
      .logo {
        display: inline-block;
        width: 40%;
      }

      img {
        width: 100%;
      }

    </style>

    <!-- local DOM -->

    <ul id="nav">
      <li>
        <a id="nav-brautpaar" href="/brautpaar.html">Brautpaar</a>
        <ul>
          <li><a href="#geschichte">Geschichte</a></li>
          <li><a href="#braut">Braut</a></li>
          <li><a href="#braeutigam">Br√§utigam</a></li>
        </ul>
      </li>

      <li>
        <a id="nav-trauung" href="/trauung.html">Trauung</a>
        <ul>
          <li><a href="#zivil">Zivile Trauung</a></li>
          <li><a href="#kirchlich">Kirchliche Trauung</a></li>
          <li><a href="#festlichkeiten">Festlichkeiten</a></li>
        </ul>
      </li>

      <li>
        <a id="nav-organisation" href="/organisation.html">Organisation</a>
        <ul>
          <li><a href="#trauzeugen">Trauzeugen</a></li>
          <li><a href="#ok">OK-Team</a></li>
          <li><a href="#helfer">Helfer</a></li>
        </ul>
      </li>

      <li id="logo">
        <a class="logo" href="/index.html"><img src="/src/image/chibi-logo.png" alt="Logo"></a>
      </li>

      <li>
        <a id="nav-geschenke" href="/geschenke.html">Geschenke</a>
      </li>

      <li>
        <a id="nav-anmeldung" href="/anmeldung.html">Anmeldung</a>
      </li>
    </ul>


  </template>
  <!-- Creates the element's prototype and registers it -->
  <script>
    Polymer({
      is: 'wedding-navigation',

      ready: function () {
        /* hide the current main nav item */
        var url = window.location.pathname,
          filename = url.substring(url.lastIndexOf('/') + 1),
          fileString = filename.substring(0, filename.lastIndexOf('.')),
          mainAnchor = this.querySelector('#nav-' + fileString),
          $mainAnchor = $(mainAnchor);
        $mainAnchor.hide();

        /* add the current sub-items to the logo */
        var $logo = $(this.$.logo),
          $subItemList = $mainAnchor.next();
        $subItemList.css('display', 'block');
        $logo.append($subItemList);

        /* set the current sub-items circular */
        var $subItems = $subItemList.children();
        $($subItems[0]).css('transform', 'translate(-50%, -250%)');
        $($subItems[1]).css('transform', 'translate(0, -200%)');
        $($subItems[2]).css('transform', 'translate(50%, -450%)');

        /* move the logo to the center on "geschenke" and "anmeldung" page */
        if (fileString == 'geschenke' || fileString == 'anmeldung') {
          $($logo.parent().children()[1]).after($logo);
        }


        /* onscroll */
//        var nav = this.$.nav,
//          $navChildren = $(nav).children();
//        console.log($navChildren);
//
//        for (var i = 0; i < $navChildren.length; i++) {
//          $($navChildren[i]).addClass('scroll');
//        }
//
//
//        document.onscroll = function () {
//
//          if (window.scrollY != 0) {
//
//          } else {
//
//          }
//        };
      }

    });
  </script>
</dom-module>